function p(){let t="";for(let o=0;o<localStorage.length;o++){const s=localStorage.key(o);if(s&&s.startsWith("heart_")){const a=JSON.parse(localStorage.getItem(s));Array.isArray(a)&&a[0]==="true"&&(t+=a[1]+" ")}}return console.log("Lista de favoritos: "+t),t}document.addEventListener("DOMContentLoaded",()=>{console.log("DOM cargado"),document.querySelectorAll(".heart").forEach(e=>{const n=e.closest(".producto"),l=n.dataset.id,d=n.dataset.name,r=localStorage.getItem(`heart_${l}`);if(r){const c=JSON.parse(r);Array.isArray(c)&&c[0]==="true"&&e.classList.add("liked")}e.addEventListener("click",c=>{c.stopPropagation(),e.classList.toggle("liked");const i=[e.classList.contains("liked")?"true":"false",d];localStorage.setItem(`heart_${l}`,JSON.stringify(i)),p()})}),document.querySelectorAll(".producto").forEach(e=>{e.addEventListener("click",n=>{n.stopPropagation(),u(e.dataset.id,e.dataset.name,e.dataset.descr),console.log("popup creado")})}),document.querySelector(".popup").addEventListener("click",e=>{e.target===e.currentTarget&&g()}),document.querySelector(".close-btn").addEventListener("click",()=>{document.querySelector(".popup").style.display="none"})});function u(t,o,s){console.log(t);let a=document.querySelector(".popup-content img");a.src=`/${t}.webp`,document.getElementById("descr").innerHTML=s,document.getElementById("title").innerHTML=o,document.getElementById("popup").style.display="flex"}function g(){document.querySelector(".popup").style.display="none"}
